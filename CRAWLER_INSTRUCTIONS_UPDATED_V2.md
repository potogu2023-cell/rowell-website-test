# 爬虫任务指令 V2.0 - 调整描述字段策略

**更新时间**: 2025-01-04  
**版本**: 2.0  
**更新原因**: 根据Agilent测试反馈,调整产品描述字段要求

---

## 🔄 重要更新说明

### 问题发现

爬虫团队在测试Agilent产品时发现:
- ✅ 产品规格信息丰富（specifications）
- ✅ 产品名称完整（name）
- ❌ **产品详细描述文本缺失或很短**

### 影响评估

根据当前数据库分析:

| 品牌 | 描述覆盖率 | 平均长度 | 状况 |
|------|-----------|---------|------|
| Agilent | 59.7% | 28字符 | 🟡 部分有短描述 |
| Thermo Fisher Scientific | 8.2% | 2字符 | 🔴 几乎无描述 |
| Waters | 24.8% | 21字符 | 🟡 部分有短描述 |
| Daicel | 0% | 0字符 | 🔴 完全无描述 |
| Phenomenex | 12.1% | 3字符 | 🔴 几乎无描述 |
| 其他品牌 | 0-29% | 0-10字符 | 🔴 描述严重缺失 |

**结论**: 这是一个**系统性问题**,不仅影响Agilent,可能影响大部分品牌。

---

## 🎯 调整后的任务目标

### 核心原则

**现实优先**: 以官网实际提供的信息为准,不强求不存在的内容。

### 字段优先级调整

| 字段 | 原优先级 | 新优先级 | 要求 |
|------|---------|---------|------|
| **name** (完整产品名称) | 🔴 必需 | 🔴 必需 | 100%完整,无截断 |
| **specifications** (技术规格) | 🔴 必需 | 🔴 必需 | JSON格式,≥3个字段 |
| **description** (产品描述) | 🔴 必需 | 🟡 尽力而为 | 见下方新策略 |
| **detailedDescription** | 🟢 可选 | 🟢 可选 | 有则提供 |

---

## 📝 产品描述字段新策略

### 多层级获取方案

按优先级尝试以下数据源:

#### 🥇 优先级1: 产品详情页描述
- 位置: 产品详情页的描述区域
- 期望长度: 100-500字
- 如果存在,直接使用

#### 🥈 优先级2: 产品列表页简短描述
- 位置: 产品搜索结果或分类页
- 期望长度: 20-100字
- 如果详情页无描述,使用列表页描述

#### 🥉 优先级3: 从产品名称和规格提取
- 方法: 从产品名称中提取关键信息
- 格式: "{产品类型} {主要规格}"
- 示例: "C18色谱柱,粒径5µm,柱长250mm,内径4.6mm"

#### ⚪ 优先级4: 标记为无描述
- 当以上方法都无法获取时
- 使用标记: `"N/A - No description available on official website"`
- 或留空: `""`

### 描述质量分级

| 等级 | 长度 | 来源 | 标记 |
|------|------|------|------|
| A级 | ≥100字 | 详情页完整描述 | `quality: "high"` |
| B级 | 50-99字 | 详情页简短描述或列表页描述 | `quality: "medium"` |
| C级 | 20-49字 | 列表页简短描述或提取信息 | `quality: "low"` |
| D级 | <20字 | 从名称/规格提取 | `quality: "extracted"` |
| N/A | 0字 | 无法获取 | `quality: "none"` |

---

## 📊 调整后的质量标准

### 必须达到的标准

| 指标 | 原标准 | 新标准 | 说明 |
|------|--------|--------|------|
| **数据完整性** | ≥90% | ≥90% | 不变 |
| **产品名称完整性** | 100% | 100% | 不变,必须无截断 |
| **规格字段数量** | ≥3个 | ≥3个 | 不变,JSON格式 |
| **描述文本长度** | ≥50字 | ~~删除~~ | **取消此硬性要求** |
| **描述覆盖率** | ≥90% | ≥70% | **降低要求** |
| **A/B级描述占比** | - | ≥30% | **新增**:至少30%产品有较好描述 |

### 可接受的结果

✅ **完全可接受**:
- 产品名称: 100%完整
- 技术规格: 100%有效JSON,≥3字段
- 产品描述: 70%有内容(任何长度),其中30%为A/B级

✅ **基本可接受**:
- 产品名称: 100%完整
- 技术规格: 90%有效JSON,≥3字段
- 产品描述: 50%有内容,其中20%为A/B级

❌ **不可接受**:
- 产品名称有截断
- 技术规格缺失或格式错误
- 描述覆盖率<50%

---

## 🔧 实施建议

### 对于Agilent

根据您的测试结果:

1. **优先爬取规格信息** ✅
   - Agilent的规格信息很完整
   - 这是最重要的数据

2. **描述字段处理**:
   - 如果产品详情页有描述文本→直接使用
   - 如果只有规格表→从产品名称提取关键信息作为描述
   - 如果什么都没有→标记为 `"N/A"` 或留空

3. **示例**:
   ```csv
   productId,partNumber,brand,name,description,specifications,descriptionQuality
   AGIL-51832068,5183-2068,Agilent,"ZORBAX Eclipse Plus C18, 4.6x150mm, 5µm","C18反相色谱柱,粒径5µm,柱长150mm,内径4.6mm,适用于复杂样品分析","{""固定相"":""C18"",""粒径"":""5 µm"",""柱长"":""150 mm"",""内径"":""4.6 mm""}","extracted"
   ```

### 对于其他品牌

1. **先测试2-3个产品**,评估描述可获得性
2. **根据实际情况调整策略**
3. **记录每个品牌的描述来源和质量**

---

## 📦 更新后的交付格式

### CSV字段

```csv
productId,partNumber,brand,name,description,specifications,descriptionQuality,detailedDescription
```

### 新增字段说明

**descriptionQuality** (描述质量标记):
- `"high"` - A级:≥100字,来自详情页
- `"medium"` - B级:50-99字
- `"low"` - C级:20-49字
- `"extracted"` - D级:<20字,从名称/规格提取
- `"none"` - 无法获取

### 示例数据

```csv
"AGIL-51832068","5183-2068","Agilent","ZORBAX Eclipse Plus C18 HPLC Column, 4.6 mm x 150 mm, 5 µm","High-performance C18 reversed-phase column for complex sample analysis. Features 5µm particle size and 150mm length.","{""phase"":""C18"",""particle_size"":""5 µm"",""length"":""150 mm"",""id"":""4.6 mm""}","high",""

"AGIL-5190-5277","5190-5277","Agilent","Agilent Filtration 5190-5277","样品过滤器,用于HPLC样品前处理","{""type"":""filter"",""application"":""HPLC sample prep""}","extracted",""

"AGIL-821725-955","821725-955","Agilent","GC Capillary Column","",""{""type"":""GC column"",""format"":""capillary""}","none",""
```

---

## ✅ 更新后的验收标准

### 每个品牌提交时需要包含

1. **数据CSV文件**
   - 新增 `descriptionQuality` 字段

2. **爬取报告** - 必须包含:
   ```markdown
   ## 描述字段统计
   - 总产品数: XXX
   - 有描述产品数: XXX (XX%)
   - A级描述: XXX (XX%)
   - B级描述: XXX (XX%)
   - C级描述: XXX (XX%)
   - D级描述: XXX (XX%)
   - 无描述: XXX (XX%)
   
   ## 描述来源分析
   - 来自详情页: XXX
   - 来自列表页: XXX
   - 从规格提取: XXX
   - 无法获取: XXX
   
   ## 特殊情况说明
   - [列出该品牌的特殊情况]
   ```

---

## 🎯 您的问题解答

### Q: 如果官网确实没有提供详细描述,是否可以接受较短的描述或标记为"N/A"?

**A: 完全可以接受！**

具体处理方式:

1. **优先级1**: 如果有任何描述文本(哪怕很短),都请提取
2. **优先级2**: 如果没有描述,从产品名称和规格提取关键信息
3. **优先级3**: 如果以上都不可行,标记为 `"N/A"` 或留空

**关键**: 请在 `descriptionQuality` 字段中标记质量等级,这样我们可以:
- 了解每个品牌的实际情况
- 后续有针对性地改进
- 向用户说明数据来源

### Q: 是否继续测试几个不同类型的Agilent产品?

**A: 是的,建议继续测试!**

建议测试:
- ✅ 色谱柱 (Columns)
- ✅ 样品瓶 (Vials)
- ✅ 进样针 (Syringes)
- ✅ 过滤器 (Filters)
- ✅ 标准品 (Standards)

目的:
- 确认不同产品类型的描述可获得性
- 优化爬取策略
- 评估工作量

### Q: 是否接受部分产品可能无法达到100字描述的现实?

**A: 完全接受!**

新的期望:
- ✅ 产品名称和规格: 必须完整准确 (这是核心)
- ✅ 产品描述: 尽力而为,有多少提取多少
- ✅ 描述质量: 用 `descriptionQuality` 字段标记

**重点**: 我们要的是**真实、准确的数据**,而不是为了达标而编造内容。

---

## 🚀 建议执行方案

### 阶段1: 继续测试 (1天)

1. 测试Agilent的5-10个不同类型产品
2. 记录每种产品的描述可获得性
3. 确认最佳爬取策略

### 阶段2: 小批量验证 (1-2天)

1. 爬取Agilent的50-100个产品
2. 验证新策略的可行性
3. 调整和优化

### 阶段3: 批量执行 (按原计划)

1. 使用调整后的策略
2. 按品牌分批执行
3. 每个品牌提交数据和详细报告

---

## 📞 持续支持

请随时反馈:
- 测试结果和发现
- 策略调整建议
- 特殊情况处理

我会根据您的反馈继续优化指令! 🎯

---

**版本历史**:
- V1.0 (2025-01-04): 初始版本,要求描述≥50字,覆盖率≥90%
- **V2.0 (2025-01-04)**: 调整描述策略,采用多层级获取方案,降低硬性要求

**联系**: ROWELL项目团队  
**状态**: ✅ 已更新,可立即使用
