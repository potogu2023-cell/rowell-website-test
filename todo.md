# ROWELL HPLC Website - TODO List

## 📊 产品数据批量更新任务（2025-01-03）- 当前最高优先级

### Phase 1: CSV文件分析
- [ ] 读取CSV文件（2438个产品）
- [ ] 分析CSV文件的列结构
- [ ] 识别关键字段（产品编号、名称、规格等）
- [ ] 统计产品类型分布
- [ ] 统计品牌分布
- [ ] 生成CSV数据分析报告

### Phase 2: 数据对比分析
- [x] 对比CSV与数据库产品数量（2438 vs 2484）
- [x] 识别需要更新的产品（564个）
- [x] 识别需要删除的产品（0个）
- [x] 识别需要新增的产品（214个未匹配）
- [x] 分析产品编号匹配规则（品牌+原品牌零件号）
- [x] 生成数据对比报告

### Phase 3: 批量更新策略设计
- [x] 导出214个未匹配产品清单（供爬虫使用）
- [x] 设计产品匹配逻辑（品牌+原品牌零件号）
- [x] 设计更新字段列表（name, partNumber, specifications等）
- [x] 设计产品分类映射规则（基于产品名称关键词）
- [x] 创建批量更新脚本（更新564个产品）
- [x] 创建数据验证脚本

### Phase 4: 执行批量更新
- [x] 备份当前数据库数据（2484个产品）
- [x] 执行批量更新脚本（成功更新564个产品）
- [x] 验证更新结果（99.6%通过）
- [x] 生成更新报告

### Phase 5: 验证和报告
- [x] 验证产品数量正确（2484个，不变）
- [x] 验证产品信息正确（562/564，99.6%）
- [x] 验证产品分类正确（自动分类完成）
- [x] 生成最终验证报告
- [x] 向用户报告更新结果

---

## 🐛 紧急Bug修复 - 产品分类筛选问题（2025-01-02）

- [x] 调查为什么HPLC Columns子分类显示0个产品
- [x] 检查product_categories表的关联关系
- [x] 修复产品和子分类的关联
- [x] 为所有产品类型创建对应的子分类
- [x] 批量关联所有2484个产品到正确的子分类
- [x] 验证100%产品分类覆盖率

---

## 🏷️ 浏览器标签页优化（2025-01-02）

- [x] 修改网站标题,去掉"测试网站"
- [x] 更换favicon为ROWELL logo
- [x] 确保所有页面都使用正确的标题

---

## 🤖 AI产品顾问功能开发（2025-01-02）

### 后端开发完成
- [x] 创建加密工具（AES-256）
- [x] 创建缓存工具（hash生成、关键词提取）
- [x] 创建AI对话处理器（server/ai/chat-handler.ts）
- [x] 集成Manus LLM服务和系统提示词
- [x] 实现智能缓存逻辑
- [x] 实现并发控制队列
- [x] 添加LLM API成本追踪
- [x] 创建ai.chat mutation（处理用户消息）
- [x] 创建ai.feedback mutation（点赞/点踩）
- [x] 创建ai.history query（获取对话历史）
- [x] 创建ai.deleteConversation mutation（自助删除）
- [x] 创建ai.updateConsent mutation（更新隐私设置）
- [x] 创建ai.queueStatus query（队列状态监控）

### 前端开发完成
- [x] 创建AIChatWidget组件（浮动按钮+聊天窗口）
- [x] 创建ConsentDialog组件（标准模式vs隐私模式）
- [x] 将聊天组件添加到所有页面（App.tsx）

---

## 🎨 网站内容全面升级 - 体现AI赋能和多品牌优势（2025-01-02）

- [x] 更新Hero section - 突出"AI-Powered Solution Provider"
- [x] 重写"Why Choose ROWELL" - 3个新核心优势
- [x] 在产品详情页添加"Ask AI about this product"按钮
- [x] 在产品列表页添加"Need help choosing?"提示
- [x] 在搜索结果页添加"Can't find what you need? Ask AI"
- [x] 在筛选器旁边添加AI推荐入口
- [x] 优化CTA按钮文案

---

## 🚀 网站升级：从色谱柱网站升级为色谱耗材网站（除仪器与化学品）

- [x] 分析当前数据库schema和产品分类
- [x] 检查网站内容中所有提及"色谱柱"的地方
- [x] 制定详细的升级方案文档
- [x] 更新首页标题和描述：从"HPLC色谱柱"改为"色谱耗材"
- [x] 更新About页面公司介绍
- [x] 更新产品页面标题和分类
- [x] 更新所有8种语言的翻译文件
- [x] 更新SEO元数据和页面标题

---

## 历史任务记录

### 数据恢复和导入（2025-10-31）
- [x] 合并products_final_ready.csv和final_7brands_database_clean.csv
- [x] 去重验证（基于brand + partNumber）
- [x] 清洗和标准化数据格式
- [x] 导入2,484个产品到数据库
- [x] 创建产品分类关联（11种产品类型）
- [x] 验证所有分类
- [x] 测试产品搜索、筛选、分页功能
- [x] 创建checkpoint

### 品牌合并任务（2025-10-31）
- [x] 创建品牌合并脚本
- [x] 合并Merck品牌
- [x] 合并Thermo Fisher品牌
- [x] 验证合并后的数据
- [x] 保存checkpoint

### Logo更新和免责声明（2025-10-31）
- [x] 上传ROWELL正式Logo
- [x] 更新导航栏和页脚Logo
- [x] 生成favicon
- [x] 添加非授权经销商免责声明（中英文）
- [x] 保存checkpoint

---

最后更新：2025-01-03（开始产品数据批量更新任务）


---

## 🔍 数据库独有产品调查任务（2025-01-03）

### 背景
- 数据库中有1,829个产品在CSV验证清单中不存在
- 占数据库总产品数的73.6%
- 需要调查这些产品的来源和有效性

### Phase 1: 分析数据库独有产品特征
- [x] 统计品牌分布
- [x] 统计产品类型分布
- [x] 分析零件号格式
- [x] 识别可能的数据来源
- [x] 随机抽取50个产品（第一轮）
- [x] 生成抽样验证清单

### Phase 2: 第一轮抽样验证（50个产品）
- [ ] 用户使用爬虫软件验证
- [ ] 在品牌官网验证产品存在性
- [ ] 记录验证结果（通过/失败）
- [ ] 统计验证通过率

### Phase 3: 设计处理策略
- [ ] 根据验证结果制定策略
- [ ] 确定保留/删除/更新的标准
- [ ] 获取用户批准

### Phase 4: 执行处理
- [ ] 备份数据
- [ ] 执行批量操作
- [ ] 验证结果

### Phase 5: 报告结果
- [ ] 生成处理报告
- [ ] 向用户报告


---

## 📦 214个产品零件号更新任务（2025-01-03）

### 背景
- 用户已使用爬虫软件提取214个产品的零件号
- 需要清洗数据并批量更新到数据库

### Phase 1: 数据清洗
- [x] 读取CSV文件
- [x] 检查数据完整性
- [x] 验证零件号格式
- [x] 处理重复数据（44个重复）
- [x] 生成清洗报告

### Phase 2: 数据库匹配
- [ ] 匹配数据库产品
- [ ] 准备更新脚本
- [ ] 验证匹配结果

### Phase 3: 批量更新
- [ ] 备份数据库
- [ ] 执行批量更新
- [ ] 验证更新结果

### Phase 4: 报告结果
- [ ] 生成更新报告
- [ ] 向用户报告


---

## 🧹 任务纯洁性维护 - 移除SendGrid（2025-01-04）

### 目标
移除SendGrid和邮件营销功能，保持网站建设任务的纯洁性

### Phase 1: 移除SendGrid依赖和邮件功能
- [x] 移除package.json中的@sendgrid/mail依赖
- [x] 移除代码中的邮件发送功能
- [x] 移除AI顾问的邮件通知功能
- [x] 清理相关环境变量引用
- [x] 更新文档，移除SendGrid相关说明

### Phase 2: 撰写群发任务指令文档
- [ ] 分析ROWELL网站的产品、优势、目标客户
- [ ] 设计邮件营销策略和工作流程
- [ ] 撰写完整的任务指令（包含工具推荐、内容模板）
- [ ] 定义关键性能指标（KPI）

### Phase 3: 设计考核机制
- [x] 定义监控指标（打开率、回复率、转化率）
- [x] 设计数据收集接口（ROWELL API）
- [x] 创建考核报告模板（周报、月报）
- [x] 建立定期审查流程（双周会议）
- [x] 设计自动化监控方案

### Phase 4: 更新项目文档并保存checkpoint
- [x] 更新项目 README
- [x] 更新测试指南
- [x] 保存checkpoint

### Phase 5: 交付
- [ ] 交付清理后的项目
- [ ] 交付群发任务指令文档
- [ ] 交付考核机制文档
