# ROWELL HPLC Website - TODO List

## 🚀 网站升级：从色谱柱网站升级为色谱耗材网站（除仪器与化学品）

### 阶段1：分析当前网站状态并制定升级方案
- [x] 分析当前数据库schema和产品分类
- [x] 检查网站内容中所有提及"色谱柱"的地方
- [x] 制定详细的升级方案文档

### 阶段2：数据库schema升级和产品分类扩展
- [ ] 扩展产品分类：添加HPLC色谱柱、GC色谱柱、SPE固相萃取柱、过滤器、样品瓶等
- [ ] 更新数据库表结构，支持更多产品类型
- [ ] 添加新的产品属性字段

### 阶段3：网站内容和文案更新- [x] 更新首页标题和描述：从"HPLC色谱柱"改为"色谱耗材"”
- [x] 更新About页面公司介绍
- [x] 更新产品页面标题和分类
- [x] 更新所有8种语言的翻译文件
- [x] 更新SEO元数据和页面标题

### 阶段4：产品展示功能优化
- [ ] 添加产品类型筛选器（HPLC柱、GC柱、SPE、过滤器等）
- [ ] 优化产品搜索功能
- [ ] 添加产品分类导航

### 阶段5：完成剩余页面的8语言翻译
- [ ] 用户功能页面翻译集成
- [ ] 管理后台页面翻译集成

---

## 当前任务：全站8种语言翻译集成（2025-11-02）

### 已完成的翻译集成
- [x] Navbar.tsx - 导航栏翻译集成
- [x] Footer.tsx - 页脚翻译集成
- [x] Home.tsx - 首页翻译集成
- [x] About.tsx - 关于页面翻译集成
- [x] Contact.tsx - 联系页面翻译集成
- [x] 韩语（ko）翻译文件创建

### 待完成的翻译文件补充
- [x] Products页面相关翻译键（搜索、筛选、分页等）
- [x] ProductDetail页面相关翻译键
- [ ] USPStandards页面相关翻译键
- [ ] Applications页面相关翻译键
- [ ] Login/Register页面相关翻译键
- [ ] Profile页面相关翻译键
- [ ] InquiryCart页面相关翻译键
- [ ] InquiryHistory页面相关翻译键
- [ ] Admin相关页面翻译键

### 待完成的页面翻译集成

#### 第一阶段：核心页面（最高优先级）
- [x] Products.tsx - 产品列表页面翻译集成
- [x] ProductDetail.tsx - 产品详情页面翻译集成
- [ ] USPStandards.tsx - USP标准页面翻译集成
- [ ] Applications.tsx - 应用页面翻译集成

#### 第二阶段：用户功能页面
- [ ] Login.tsx - 登录页面翻译集成
- [ ] Register.tsx - 注册页面翻译集成
- [ ] Profile.tsx - 用户资料页面翻译集成
- [ ] InquiryCart.tsx - 询价购物车翻译集成
- [ ] InquiryHistory.tsx - 询价历史翻译集成

#### 第三阶段：管理后台页面
- [ ] Admin.tsx - 管理后台首页翻译集成
- [ ] AdminInquiries.tsx - 询价管理翻译集成
- [ ] AdminCustomers.tsx - 客户管理翻译集成
- [ ] AdminAnalytics.tsx - 数据分析翻译集成

#### 第四阶段：其他页面
- [ ] NotFound.tsx - 404页面翻译集成
- [ ] Auth.tsx - 认证页面翻译集成

### 测试和验证
- [ ] 测试中文（zh）语言切换
- [ ] 测试英语（en）语言切换
- [ ] 测试俄语（ru）语言切换
- [ ] 测试日语（ja）语言切换
- [ ] 测试西班牙语（es）语言切换
- [ ] 测试葡萄牙语（pt）语言切换
- [ ] 测试阿拉伯语（ar）语言切换和RTL布局
- [ ] 测试韩语（ko）语言切换
- [ ] 验证所有页面的翻译正确性
- [ ] 验证品牌名称、产品型号、技术术语保持英文
- [ ] 保存最终checkpoint

---

## 历史任务记录

### 数据恢复和导入（2025-10-31）
- [x] 合并products_final_ready.csv和final_7brands_database_clean.csv
- [x] 去重验证（基于brand + partNumber）
- [x] 清洗和标准化数据格式
- [x] 导入2,484个产品到数据库
- [x] 创建产品分类关联（11种产品类型）
- [x] 验证所有分类
- [x] 测试产品搜索、筛选、分页功能
- [x] 创建checkpoint

### 品牌合并任务（2025-10-31）
- [x] 创建品牌合并脚本
- [x] 合并Merck品牌
- [x] 合并Thermo Fisher品牌
- [x] 验证合并后的数据
- [x] 保存checkpoint

### Logo更新和免责声明（2025-10-31）
- [x] 上传ROWELL正式Logo
- [x] 更新导航栏和页脚Logo
- [x] 生成favicon
- [x] 添加非授权经销商免责声明（中英文）
- [x] 保存checkpoint


---

## 🤖 AI产品顾问功能开发（2025-01-02）

### Phase 1: MVP Development (第1-2周)

#### 数据库和后端基础设施
- [x] 创建AI顾问数据库表（ai_conversations, ai_messages, ai_cache等）
- [x] 扩展users表添加consent字段
- [x] 扩展inquiries表添加conversationId字段
- [x] 推送数据库schema到生产环境
- [ ] 创建加密工具（AES-256加密消息内容）
- [ ] 创建缓存工具（hash生成、关键词提取）
- [ ] 创建数据保留清理脚本

#### AI集成后端
- [ ] 实现AI对话处理器（server/ai/chat-handler.ts）
- [ ] 集成Manus LLM服务和系统提示词
- [ ] 实现智能缓存逻辑
- [ ] 实现并发控制队列
- [ ] 创建产品推荐逻辑
- [ ] 实现对话历史检索
- [ ] 添加LLM API成本追踪

#### tRPC API端点
- [ ] 创建ai.chat mutation（处理用户消息）
- [ ] 创建ai.feedback mutation（点赞/点踩）
- [ ] 创建ai.history query（获取对话历史）
- [ ] 创建ai.deleteConversation mutation（自助删除）
- [ ] 扩展询价提交包含conversationId

#### 前端 - AI聊天组件
- [ ] 创建AIChatWidget组件（浮动按钮+聊天窗口）
- [ ] 创建ConsentDialog组件（标准模式vs隐私模式）
- [ ] 创建MessageList组件（显示对话）
- [ ] 创建MessageInput组件（用户输入框）
- [ ] 创建ProductRecommendation组件（聊天中的产品卡片）
- [ ] 创建FeedbackButtons组件（点赞/点踩）
- [ ] 实现会话管理（sessionId生成）
- [ ] 将聊天组件添加到所有页面（App.tsx）

#### 前端 - 用户体验
- [ ] 实现首次用户同意流程
- [ ] 添加加载状态和动画
- [ ] 添加错误处理和重试逻辑
- [ ] 实现移动端响应式设计
- [ ] 在所有AI回复中添加免责声明
- [ ] 在AI回复中添加联系方式
- [ ] 实现从AI聊天"添加到询价购物车"

#### 邮件通知
- [ ] 更新询价邮件模板包含AI对话摘要
- [ ] 测试SendGrid邮件发送

#### 测试和Bug修复
- [ ] 测试AI回复准确性
- [ ] 测试同意流程（标准/隐私/匿名）
- [ ] 测试带AI上下文的询价提交
- [ ] 在移动设备上测试（iOS/Android）
- [ ] 在不同浏览器测试（Chrome/Safari/Firefox）
- [ ] 并发用户负载测试
- [ ] 修复关键bug

#### 部署
- [ ] 部署到生产环境
- [ ] 监控问题
- [ ] 收集初始用户反馈

### Phase 2: 优化和增强（第3-4周）

#### 缓存增强
- [ ] 预填充常见问题到缓存
- [ ] 优化缓存过期逻辑
- [ ] 测试缓存命中率（目标：>35%）

#### 管理后台
- [ ] 创建管理后台布局
- [ ] 实现KPI显示（询价数、转化率等）
- [ ] 创建询价管理界面
- [ ] 构建客户管理界面
- [ ] 创建AI助手（帮助Oscar回答技术问题）
- [ ] 在询价详情中添加AI对话历史查看

#### 分析实现
- [ ] 设置每日统计收集（自动化任务）
- [ ] 创建数据可视化组件（图表）
- [ ] 实现问题检测（低满意度问题）
- [ ] 测试月度报告生成
- [ ] 创建导出功能（CSV/JSON）

#### 用户体验改进
- [ ] 添加对话历史查看（认证用户）
- [ ] 改进聊天组件动画
- [ ] 优化移动端响应式
- [ ] 添加键盘快捷键（ESC关闭，Enter发送）
- [ ] 添加输入指示器
- [ ] 添加"AI正在思考..."动画

#### 性能优化
- [ ] 使用适当索引优化数据库查询
- [ ] 实现聊天组件懒加载
- [ ] 代码分割优化初始加载时间
- [ ] 审查和改进AI提示词
- [ ] 优化图片加载（WebP格式）

#### 文档
- [ ] 创建客户用户指南
- [ ] 创建Oscar管理指南
- [ ] 文档化API端点
- [ ] 编写故障排除指南

### Phase 3: 持续改进（持续进行）

#### 月度优化任务
- [ ] 审查月度性能报告
- [ ] 分析KPI趋势
- [ ] 识别低满意度问题
- [ ] 更新知识库（如需要）
- [ ] 优化系统提示词
- [ ] 用改进的答案刷新缓存

#### 功能增强
- [ ] 多语言支持（8种语言）
- [ ] 语音输入支持
- [ ] 图像理解（技术图表）
- [ ] 高级分析仪表板
- [ ] A/B测试框架

#### 安全与合规
- [ ] 定期安全审计
- [ ] GDPR合规审查
- [ ] 更新隐私政策
- [ ] 实现速率限制增强

---

## AI顾问项目文档

- [x] 完整项目规格文档（AI_ADVISOR_PROJECT_SPECIFICATION.md）
  - 包含所有设计决策
  - 技术架构
  - 数据库设计
  - 实施路线图

---

## AI顾问已知问题和Bug

（暂无 - 发现后添加）

---

## AI顾问项目笔记

- **优先级：** 首先专注于Phase 1 MVP - 让核心功能运行起来
- **测试：** 在进入Phase 2之前彻底测试
- **反馈：** 尽早收集用户反馈并迭代
- **成本：** 在初始启动期间每天监控LLM成本
- **ROI：** 预计2个月后才能看到可衡量的业务影响
- **预算：** 目标每月$48-60 LLM成本
- **转化率目标：** AI对话到询价转化率5%
- **询价目标：** 每月20+询价（当前基线约10）

---

最后更新：2025-01-02（添加AI顾问功能开发任务）


---

## 最新进展（2025-01-02 10:20）

### 后端开发完成
- [x] 创建加密工具（AES-256）
- [x] 创建缓存工具（hash生成、关键词提取）
- [x] 创建AI对话处理器（server/ai/chat-handler.ts）
- [x] 集成Manus LLM服务和系统提示词
- [x] 实现智能缓存逻辑
- [x] 实现并发控制队列
- [x] 添加LLM API成本追踪
- [x] 创建ai.chat mutation（处理用户消息）
- [x] 创建ai.feedback mutation（点赞/点踩）
- [x] 创建ai.history query（获取对话历史）
- [x] 创建ai.deleteConversation mutation（自助删除）
- [x] 创建ai.updateConsent mutation（更新隐私设置）
- [x] 创建ai.queueStatus query（队列状态监控）

### 前端开发完成
- [x] 创建AIChatWidget组件（浮动按钮+聊天窗口）
- [x] 创建ConsentDialog组件（标准模式vs隐私模式）
- [x] 将聊天组件添加到所有页面（App.tsx）

### 待完成
- [ ] 创建MessageList组件（显示对话）
- [ ] 创建MessageInput组件（用户输入框）
- [ ] 创建ProductRecommendation组件（聊天中的产品卡片）
- [ ] 创建FeedbackButtons组件（点赞/点踩）
- [ ] 实现会话管理（sessionId生成）
- [ ] 实现首次用户同意流程
- [ ] 添加加载状态和动画
- [ ] 添加错误处理和重试逻辑
- [ ] 实现移动端响应式设计
- [ ] 在所有AI回复中添加免责声明
- [ ] 在AI回复中添加联系方式
- [ ] 实现从AI聊天"添加到询价购物车"
- [ ] 更新询价邮件模板包含AI对话摘要
- [ ] 测试SendGrid邮件发送
- [ ] 测试AI回复准确性
- [ ] 测试同意流程（标准/隐私/匿名）
- [ ] 测试带AI上下文的询价提交
- [ ] 在移动设备上测试（iOS/Android）
- [ ] 在不同浏览器测试（Chrome/Safari/Firefox）
- [ ] 并发用户负载测试
- [ ] 修复关键bug
- [ ] 部署到生产环境
- [ ] 监控问题
- [ ] 收集初始用户反馈


---

## 🎨 网站内容全面升级 - 体现AI赋能和多品牌优势（2025-01-02）

### Phase 1: 分析和规划
- [x] 分析当前首页所有sections
- [x] 分析当前产品页面结构
- [x] 分析About页面内容
- [x] 制定完整的内容升级方案
- [x] 设计产品页面AI推荐功能UI/UX

### Phase 2: 产品页面AI推荐功能
- [x] 在产品详情页添加"Ask AI about this product"按钮
- [x] 在产品列表页添加"Need help choosing?"提示
- [ ] 实现点击后自动打开AI聊天并预填问题
- [x] 在搜索结果页添加"Can't find what you need? Ask AI"
- [x] 在筛选器旁边添加AI推荐入口
- [ ] 测试产品页面AI集成

### Phase 3: 首页内容升级
- [x] 更新Hero section - 突出"AI-Powered Solution Provider"
- [x] 重写"Why Choose ROWELL" - 3个新核心优势
- [ ] 在Product Portfolio section添加AI推荐提示
- [ ] 更新About ROWELL section - 强调11品牌+AI
- [ ] 在Contact section添加AI顾问介绍
- [x] 优化CTA按钮文案

### Phase 4: About页面和其他页面升级
- [ ] About页面添加"Our Technology"部分(介绍AI顾问)
- [ ] About页面更新公司介绍 - 强调解决方案提供商
- [ ] Applications页面添加AI推荐案例
- [ ] Contact页面整合AI顾问介绍
- [ ] 更新所有页面的meta描述和SEO

### Phase 5: 视觉和体验优化
- [ ] 设计AI相关的图标和视觉元素
- [ ] 优化颜色方案体现科技感
- [ ] 添加动画效果(AI推荐提示)
- [ ] 移动端适配所有新功能
- [ ] 多语言翻译所有新内容(8种语言)

### Phase 6: 测试和部署
- [ ] 测试所有AI推荐入口
- [ ] 测试用户流程(从产品页到AI对话)
- [ ] A/B测试新文案效果
- [ ] 收集用户反馈
- [ ] 最终调整和部署


---

## 🏷️ 浏览器标签页优化（2025-01-02）

- [x] 修改网站标题,去掉"测试网站"
- [ ] 更换favicon为ROWELL logo
- [ ] 确保所有页面都使用正确的标题
